@startuml c4_context_fix
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Context.puml

LAYOUT_WITH_LEGEND()
LAYOUT_TOP_DOWN()

title Digital Twin Orchestration Platform - Context Diagram (C4 Level 1)

Person(user, "Platform User", "Designs visual workflows, executes pipelines and monitors results")
Person(admin, "Administrator", "Manages users and platform configuration")

System(platform, "Digital Twin Orchestration Platform", "Visual workflow design, execution and monitoring for data processing pipelines")

System_Ext(idp, "Identity Provider", "Keycloak - User authentication (OIDC)")
System_Ext(storage, "Object Storage", "MinIO - Artifacts and datasets")
System_Ext(argo, "Argo Workflows", "Workflow orchestration engine")
System_Ext(k8s, "Kubernetes", "Container execution platform")

Rel(user, platform, "Uses", "HTTPS")
Rel(admin, platform, "Manages", "HTTPS")
Rel(platform, idp, "Authenticates", "OIDC")
Rel(platform, storage, "Stores artifacts", "S3")
Rel(platform, argo, "Executes workflows", "REST")
Rel(argo, k8s, "Runs pods")
Rel(argo, storage, "Artifact passing", "S3")

@enduml
