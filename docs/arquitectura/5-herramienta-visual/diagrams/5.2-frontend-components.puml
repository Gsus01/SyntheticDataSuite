@startuml frontend_components
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Component.puml

LAYOUT_WITH_LEGEND()
LAYOUT_LEFT_RIGHT()

title Frontend Architecture - Component Diagram

Container_Boundary(app, "Next.js Application") {
    
    Component(page, "Editor Page", "Next.js", "Main application entry point")
    
    Component(editor, "FlowEditor", "React + React Flow", "Canvas for visual workflow editing")
    Component(sidebar, "Sidebar", "React", "Node catalog organized by category")
    Component(inspector, "NodeInspector", "React", "Configuration panel for selected node")
    Component(terminal, "WorkflowTerminal", "React", "Execution logs and status display")
    
    Component(api, "API Client", "TypeScript", "REST communication with backend")
    Component(catalog, "Catalog Loader", "TypeScript", "Fetches and indexes node templates")
}

System_Ext(backend, "Backend API", "FastAPI REST endpoints")
System_Ext(reactflow, "React Flow", "Graph visualization library")

Rel(page, editor, "Renders")
Rel(editor, sidebar, "Contains")
Rel(editor, inspector, "Contains")
Rel(editor, terminal, "Contains")
Rel(editor, reactflow, "Uses")

Rel(sidebar, catalog, "Loads templates")
Rel(inspector, api, "Uploads artifacts")
Rel(terminal, api, "Streams logs")
Rel(editor, api, "Submit/status")

Rel(catalog, backend, "GET /templates")
Rel(api, backend, "REST calls")

@enduml
